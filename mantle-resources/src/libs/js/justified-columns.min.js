!function(t,e){var i=function(t){var e=25,i="justified-columns-wrapper",s=void 0===document.documentElement.style.objectFit;function r(t){return 1*t.split("px")[0]}function o(t,e,i){var s,r;return e||(e=250),function(){var o=i||this,h=+new Date,n=arguments;s&&h<s+e?(clearTimeout(r),r=setTimeout((function(){s=h,t.apply(o,n)}),e)):(s=h,t.apply(o,n))}}function h(t){this.setGrid(t.grid||t),this.stretchSelector=t.stretch||"img",this.shrink=t.shrink||!1,this.autoResize=!t.hasOwnProperty("autoResize")||t.autoResize,this.grid.JustifiedColumns=this,this.boundReset=0===t.throttle?this.reset.bind(this):o(this.reset.bind(this),t.throttle||e),this.boundJustify=0===t.throttle?this.justify.bind(this):o(this.justify.bind(this),t.throttle||e),this.enable()}return h.prototype.setGrid=function(t){this.grid="string"==typeof t?document.querySelector(t):t.jquery?t[0]:t},h.prototype.justify=function(){var e,o=this,h=Math[this.shrink?"min":"max"],n=[],l=-1,a=this.shrink?Number.POSITIVE_INFINITY:0;if([].slice.call(this.grid.children).forEach((function(i){var s=t.getComputedStyle(i),c=i.offsetLeft;c!==e&&(-1!==l&&(a=h(n[l].height,a)),l++,e=c,n.push({items:[],height:r(s.getPropertyValue("margin-top")),totalImagesHeight:0})),i.stretchable=i.querySelector(o.stretchSelector),i.stretchable&&(i.stretchableHeight=i.stretchable.offsetHeight),n[l].items.push(i),n[l].height+=i.offsetHeight+r(s.getPropertyValue("margin-bottom")),n[l].totalImagesHeight+=i.stretchableHeight?i.stretchableHeight:0})),a=h(n[l].height,a),n.forEach((function(t,e){if(t.height<a||o.shrink&&t.height>a){var r=a-t.height,h=0;t.items.forEach((function(e,n){var l=e.querySelector(o.stretchSelector);if(l){var a=r/t.totalImagesHeight,c=e.stretchableHeight*a,d=e.stretchableHeight+c,f=(o.shrink?"max":"min")+"Height";if("IMG"!==l.nodeName)l.style[f]=d+"px";else if(s){if(l.parentNode.className!==i){var u=document.createElement("DIV");u.className=i,u.style.overflow="hidden",u.style.fontSize=0,u.style[f]=d+"px",l.parentNode.replaceChild(u,l),u.appendChild(l)}if(o.shrink){var g=.5*(d-e.stretchableHeight);l.style.marginTop=g+"px",l.style.marginBottom=-1*g+"px"}else{var p=l.offsetWidth,y=p*(d/e.stretchableHeight);l.style.minHeight=d+"px",l.style.minWidth=y+"px",l.style.marginLeft=-.5*(y-p)+"px"}}else l.style[f]=d+"px",l.style.objectFit="cover",l.style.objectPosition="center";h+=c}})),t.height+=h,t.totalImagesHeight+=h}})),s){var c=a+2,d=getComputedStyle(this.grid);"border-box"===d.boxSizing&&["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"].forEach((function(t){c+=r(d[t])})),Math.abs(this.grid.offsetHeight-c)>=2&&(this.grid.style.height=c+"px")}},h.prototype.reset=function(){[].slice.call(this.grid.querySelectorAll(this.stretchSelector)).forEach((function(t){t.style.maxHeight="",t.style.minHeight="",s?(t.style.minWidth="",t.style.marginLeft="",t.style.marginTop=""):(t.style.objectFit="",t.style.objectPosition="")})),s&&([].slice.call(this.grid.getElementsByClassName(i)).forEach((function(t){t.parentNode.replaceChild(t.firstChild,t)})),this.grid.style.height="")},h.prototype.enable=function(){this.autoResize&&(t.addEventListener("resize",this.boundReset),t.addEventListener("resize",this.boundJustify)),this.justify()},h.prototype.disable=function(){this.autoResize&&(t.removeEventListener("resize",this.boundReset),t.removeEventListener("resize",this.boundJustify)),this.reset()},h}(t);"function"==typeof define&&define.amd?define([],(function(){return i})):"object"==typeof exports?module.exports=i:t.JustifiedColumns=i}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this);